{"openapi":"3.0.0","paths":{"/chat":{"post":{"operationId":"ChatController_create","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatResponseDto"}}}}},"tags":["Chat"]}},"/chat/completion/{chatId}":{"post":{"operationId":"ChatController_createCompletion","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompletionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompletionResponseDto"}}}}},"tags":["Chat"]}},"/chat/completion-prompt/{chatId}":{"post":{"operationId":"ChatController_createCompletionPrompt","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompletionPromptDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompletionResponseDto"}}}}},"tags":["Chat"]}},"/chat/prompt":{"get":{"operationId":"ChatController_listPrompts","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListPromptsResponseDto"}}}}},"tags":["Chat"]}},"/chat/resources":{"get":{"operationId":"ChatController_listResources","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResourcesResponseDto"}}}}},"tags":["Chat"]}},"/chat/tools":{"get":{"operationId":"ChatController_listTools","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListToolsResponseDto"}}}}},"tags":["Chat"]}},"/authentication/signin":{"post":{"operationId":"AuthenticationController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInResponseDto"}}}}},"tags":["Authentication"]}},"/authentication/check-status":{"get":{"operationId":"AuthenticationController_checkStatus","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckStatusResponseDto"}}}}},"tags":["Authentication"]}},"/history":{"get":{"operationId":"HistoryController_findAll","parameters":[{"name":"limit","required":false,"in":"query","description":"- Minimum: 0\n- Maxium: 100","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"- Minimum: 0\n- Maxium: 100","schema":{"minimum":0,"maximum":100,"default":0,"example":0,"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FindAllResponseDto"}}}}}},"tags":["History"]}},"/history/{chatId}":{"get":{"operationId":"HistoryController_findOne","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindOneResponseDto"}}}}},"tags":["History"]},"delete":{"operationId":"HistoryController_delete","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["History"]}},"/history/pin/{chatId}":{"put":{"operationId":"HistoryController_pin","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["History"]}},"/history/unpin/{chatId}":{"put":{"operationId":"HistoryController_unpin","parameters":[{"name":"chatId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["History"]}}},"info":{"title":"Mcp Chatbot","description":"Internal training project of Ntt Data","version":"0.0.1","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000"}],"components":{"schemas":{"CreateChatResponseDto":{"type":"object","properties":{"chatId":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"}},"required":["chatId"]},"CreateCompletionDto":{"type":"object","properties":{"message":{"type":"string","maxLength":2000,"minLength":1,"example":"¿Cuál es la capital de Francia?"}},"required":["message"]},"CreateCompletionResponseDto":{"type":"object","properties":{"messageId":{"type":"string","example":"msg-123"},"createdAt":{"format":"date-time","type":"string","example":"2024-09-04T12:34:56.789Z"},"content":{"type":"string","example":"Esta es la respuesta generada por el modelo."}},"required":["messageId","createdAt","content"]},"CreateCompletionPromptDto":{"type":"object","properties":{"message":{"type":"string","maxLength":2000,"minLength":1,"example":"¿Cuál es la capital de Francia?"},"promptId":{"type":"string","maxLength":2000,"minLength":1,"example":"newsletter"},"args":{"type":"object","example":{"city":"Madrid","userName":"Pepe"}}},"required":["message","promptId"]},"PromptArgumentDto":{"type":"object","properties":{"name":{"type":"string","example":"city"},"required":{"type":"boolean","example":true}},"required":["name","required"]},"PromptDto":{"type":"object","properties":{"name":{"type":"string","example":"newsletter"},"title":{"type":"string","example":"Newsletter"},"description":{"type":"string","example":"Create a personalised newsletter with news, weather, films and visual content."},"arguments":{"type":"array","items":{"$ref":"#/components/schemas/PromptArgumentDto"}}},"required":["name","title","description","arguments"]},"ListPromptsResponseDto":{"type":"object","properties":{"prompts":{"type":"array","items":{"$ref":"#/components/schemas/PromptDto"}}},"required":["prompts"]},"ResourceDto":{"type":"object","properties":{"name":{"type":"string","example":"recent_news_search"},"title":{"type":"string","example":"Recent News Search"},"uri":{"type":"string","example":"news://recent"},"description":{"type":"string","example":"Recent news search by other users"},"mimetype":{"type":"string","example":"text/plain"}},"required":["name","title","uri","description","mimetype"]},"ListResourcesResponseDto":{"type":"object","properties":{"resources":{"type":"array","items":{"$ref":"#/components/schemas/ResourceDto"}}},"required":["resources"]},"ToolInputSchemaDto":{"type":"object","properties":{"type":{"type":"string","example":"object"},"properties":{"type":"object","example":{"a":{"type":"number"},"b":{"type":"number"}}},"required":{"example":["a","b"],"type":"array","items":{"type":"string"}},"additionalProperties":{"type":"boolean","example":false},"$schema":{"type":"string","example":"http://json-schema.org/draft-07/schema#"}},"required":["type","properties","additionalProperties","$schema"]},"ToolDto":{"type":"object","properties":{"name":{"type":"string","example":"add"},"title":{"type":"string","example":"Addition Tool"},"description":{"type":"string","example":"Add two numbers"},"inputSchema":{"$ref":"#/components/schemas/ToolInputSchemaDto"}},"required":["name","title","description","inputSchema"]},"ListToolsResponseDto":{"type":"object","properties":{"tools":{"type":"array","items":{"$ref":"#/components/schemas/ToolDto"}}},"required":["tools"]},"SignInDto":{"type":"object","properties":{"email":{"type":"string","maxLength":70,"example":"santiaguin55.sl@gmail.com","default":"santiaguin55.sl@gmail.com","description":"- Must be email\n- MaxLength: 70\n"},"password":{"type":"string","maxLength":30,"minLength":8,"example":"Password123","default":"Password123","description":"\n  - **Password**:\n    - Minimum length: 3\n    - Maximum length: 30\n    - Cannot include whitespaces\n    - Must include:\n      - Uppercase letters\n      - Lowercase letters\n      - Numbers\n  "}},"required":["email","password"]},"SignInResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2NDU2YzdjMjZmN2UwZGUiLCJlbWFpbCI6InBlcGVAZ21haWwuY29tIiwicm9sZSI6InVzZXIiLCJkZXZpY2VJZCI6IjBlNDljODZiLWNjYzEtNDM2Ni05YWVmLTE0ZjBkMjhmYjgzMCIsImlhdCI6MTcxODIzMDk5MiwiZXhwIjoxNzQ4MjMwOTkyLCJhdWQiOiJsb2NhbGhvc3Q6MzAwMCIsImlzcyI6ImxvY2FsaG9zdDozMDAwIn0.gx1teyzcY__sodaK4enBB1w6HMnYtmAWhYQakQubYsA"},"user":{"type":"object","example":{"email":"pepe@gmail.com","name":"Pepe"},"properties":{"email":{"type":"string","example":"pepe@gmail.com"},"name":{"type":"string","example":"Pepe"}}}},"required":["accessToken","user"]},"CheckStatusResponseDto":{"type":"object","properties":{"user":{"type":"object","example":{"email":"pepe@gmail.com","name":"Pepe"},"properties":{"email":{"type":"string","example":"pepe@gmail.com"},"name":{"type":"string","example":"Pepe"}}}},"required":["user"]},"FindAllResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"pinDate":{"format":"date-time","type":"string","example":"2024-09-04T12:34:56.789Z"},"firstPrompt":{"type":"string","example":"¿Cuál es la capital de Francia?"},"lastMessageAt":{"format":"date-time","type":"string","example":"2024-09-04T13:00:00.000Z"},"title":{"type":"string","example":"Conversación sobre geografía"}},"required":["id","pinDate","firstPrompt","lastMessageAt","title"]},"ChatMessageDto":{"type":"object","properties":{"createdAt":{"format":"date-time","type":"string","example":"2024-09-04T12:34:56.789Z"},"messageId":{"type":"string","example":"msg-123"},"feedback":{"type":"boolean","example":"positivo"},"prompt":{"type":"string","example":"¿Cuál es la capital de Francia?"},"response":{"type":"string","example":"París"}},"required":["createdAt","messageId","feedback","prompt","response"]},"FindOneResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"active":{"type":"boolean","example":true},"pinDate":{"format":"date-time","type":"string","example":"2024-09-04T12:34:56.789Z"},"user":{"type":"string","example":"userId-123"},"messages":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessageDto"}},"createdAt":{"format":"date-time","type":"string","example":"2024-09-04T12:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2024-09-04T12:10:00.000Z"},"firstPrompt":{"type":"string","example":"¿Cuál es la capital de Francia?"},"lastMessageAt":{"format":"date-time","type":"string","example":"2024-09-04T13:00:00.000Z"},"title":{"type":"string","example":"Conversación sobre geografía"}},"required":["id","active","pinDate","user","messages","createdAt","updatedAt","firstPrompt","lastMessageAt","title"]}}}}